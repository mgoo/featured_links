define(["jquery","core/ajax","totara_form/form"],function(a,b,c){a.urlParam=function(a){var b=new RegExp("[?&]"+a+"=([^&#]*)").exec(window.location.href);return null===b?null:b[1]||0};var d=function(){a('[name="type"]').change(function(e){var f=b.call([{methodname:"block_totara_featured_links_external_render_form",args:{tileid:a.urlParam("tileid"),form_type:a(e.target).val(),parameters:JSON.stringify({blockinstanceid:a.urlParam("blockinstanceid"),tileid:a.urlParam("tileid"),return_url:decodeURIComponent(a.urlParam("return_url"))})}}]);f[0].done(function(b){a(e.target).closest("form").replaceWith(b),d(),c.init({id:a(b).attr("id"),actionsConfig:[]})})})};return{init:d}});